{% extends "base.html" %}

{% block title %}Mark {{ task.title }} as Completed{% endblock %}

{% block content %}
<h2>Mark Task as Completed</h2>

{% if already_completed %}
    <div style="background-color: #d4edda; padding: 15px; border-radius: 4px; margin: 20px 0;">
        <p style="color: #155724; margin: 0;"><strong>Completed!</strong></p>
        <p style="color: #155724; margin: 10px 0 0 0;">This task was already marked as completed.</p>
    </div>
    <div class="button-row">
        <a class="btn btn-light" href="{% url 'todo:home' %}">Back to List</a>
    </div>
{% else %}
    <p>Are you sure you want to mark "{{ task.title }}" as completed?</p>
    
    <form method="post">
        {% csrf_token %}
        <div class="button-row">
            <button class="btn btn-primary" type="submit">Yes, Mark Completed</button>
            <a class="btn btn-light" href="{% url 'todo:task_detail' task.pk %}">Cancel</a>
        </div>
    </form>
{% endif %}
{% endblock %}
